{"version":3,"sources":["types/types.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","hooks/useForm.js","helpers/fetch.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","components/auth/LoginScreen.js","components/ui/NavBar.js","helpers/calendar-messages-es.js","components/calendar/CalendarEvent.js","actions/ui.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","router/PublicRoutes.js","router/PrivateRoutes.js","router/AppRouter.js","CalendarApp.js","index.js"],"names":["types","initialState","checking","events","activeEvent","modalOpen","rootReducer","combineReducers","ui","state","action","type","calendar","payload","map","event","id","filter","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","useForm","useState","values","setValues","reset","handleInputChange","target","name","value","base_url","process","fetchWithoutToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","prepareEvents","e","end","moment","toDate","start","eventAddNew","eventCleanActiveEvent","eventUpdated","eventDeleted","eventLoaded","eventsCleanUp","checkingFinish","login","user","logout","LoginScreen","dispatch","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChanges","rName","rEmail","rPassword","cPassword","formRegisterValues","handleRegisterChanges","className","onSubmit","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","NavBar","useSelector","onClick","clear","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","useEffect","closeModal","setTimeout","isOpen","onRequestClose","closeTimeoutMS","style","overlayClassName","momentStart","momentEnd","isAfter","trim","console","log","getState","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","startAccessor","endAccessor","onDoubleClickEvent","onSelectEvent","onSelectSlot","selectable","onView","view","eventPropGetter","isSelected","backgroundColor","_id","borderRadius","opacity","display","color","components","PublicRoutes","isAuthenticated","Component","component","rest","props","to","PrivateRoutes","AppRouter","exact","path","Boolean","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.593c392d.chunk.js","sourcesContent":["\r\nexport const types = {\r\n    uiOpenModal: '[ui] Open modal',\r\n    uiCloseModal: '[ui] Close modal',\r\n\r\n    eventSetActive: '[event] Set active',\r\n    eventStartAddNew: '[event] Start add new',\r\n    eventAddNew: '[event] Add new',\r\n    eventCleanActiveEvent: '[event] Clean active event',\r\n    eventUpdated: '[event] Event updated',\r\n    eventDeleted: '[event] Event deleted',\r\n    eventLoaded: '[event] Event loaded',\r\n    eventsCleanUp: '[event] Event clean up',\r\n\r\n    authCheckingFinish: '[auth] Finish checking login state',\r\n    authStartLogin: '[auth] Start login',\r\n    authLogin: '[auth] Login',\r\n    authStartRegister: '[auth] Start register',\r\n    authStartTokenRenew: '[auth] Start token renew',\r\n    authLogout: '[auth] Logout',\r\n}","import { types } from \"../types/types\"\r\n\r\nconst initialState = {\r\n    checking: true\r\n    // ui: null,\r\n    // name: null\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n\r\n        case types.authLogin:\r\n            return {\r\n                ...state,\r\n                checking: false,\r\n                ...action.payload\r\n            }\r\n        \r\n        case types.authCheckingFinish:\r\n            return {\r\n                ...state,\r\n                checking: false\r\n            }\r\n\r\n        case types.authLogout:\r\n            return {\r\n                checking: false\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { types } from '../types/types';\r\n\r\n// {\r\n//     id: 'sdsdsdsdsds',\r\n//     title:'Cumpleaños del jefe',\r\n//     start: moment().toDate(),\r\n//     end: moment().add(2, 'hours').toDate(),\r\n//     bgcolor: '#fafafa',\r\n//     notes: 'Comprar pan',\r\n//     user: {\r\n//         _id: 123,\r\n//         name: 'Alejandro'\r\n//     }\r\n// }\r\n\r\nconst initialState = {\r\n    events: [],\r\n    activeEvent: null\r\n};\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case types.eventSetActive:\r\n            return {\r\n                ...state,\r\n                activeEvent: action.payload\r\n            }\r\n        \r\n        case types.eventAddNew:\r\n            return {\r\n                ...state,\r\n                events: [action.payload, ...state.events]\r\n            }\r\n\r\n        case types.eventCleanActiveEvent:\r\n            return {\r\n                ...state,\r\n                activeEvent: null\r\n            }\r\n\r\n        case types.eventUpdated:\r\n            return {\r\n                ...state,\r\n                events: state.events.map(\r\n                    (event) => (event.id === action.payload.id) ? action.payload : event \r\n                )\r\n            }\r\n            \r\n        case types.eventDeleted:\r\n            return {\r\n                ...state,\r\n                events: state.events.filter(\r\n                    (event) => (event.id !== state.activeEvent.id)\r\n                ),\r\n                activeEvent: null\r\n            }\r\n\r\n        case types.eventLoaded:\r\n            return {\r\n                ...state,\r\n                events: [...action.payload]\r\n            }\r\n\r\n        case types.eventsCleanUp:\r\n            return {\r\n                ...initialState\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n    modalOpen: false\r\n}\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n     switch (action.type) {\r\n        case types.uiOpenModal:\r\n            return {\r\n                ...state,\r\n                modalOpen: true\r\n            }\r\n        case types.uiCloseModal:\r\n            return {\r\n                ...state,\r\n                modalOpen: false\r\n            }\r\n     \r\n         default:\r\n             return state;\r\n     }\r\n}\r\n","import {combineReducers} from 'redux';\r\nimport { authReducer } from './authReducer';\r\nimport { calendarReducer } from './calendarReducer';\r\nimport { uiReducer } from './uiReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n    ui: uiReducer,\r\n    calendar: calendarReducer,\r\n    auth: authReducer\r\n})","import {createStore, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from '../reducers/rootReducer';\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n);\r\n\r\n","import { useState } from \"react\";\r\n\r\nexport const useForm = (initialState = {}) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = () => {\r\n         setValues(initialState);\r\n    };\r\n    \r\n    const handleInputChange = ({target}) => {\r\n        setValues({\r\n            ...values,\r\n            [target.name]: target.value\r\n        });\r\n   };\r\n\r\n\r\n   return [values, handleInputChange, reset];\r\n};","const base_url =  process.env.REACT_APP_API_URL;\r\n\r\n\r\nconst fetchWithoutToken = (endpoint, data, method = 'GET') => {\r\n    \r\n     const url = `${base_url}/${endpoint}`;\r\n\r\n     if(method === 'GET'){\r\n         return fetch(url);\r\n     } else {\r\n         return fetch(url, {\r\n             method,\r\n             headers: {\r\n                 'Content-type': 'application/json'\r\n             },\r\n             body: JSON.stringify(data)\r\n         });\r\n     }\r\n}\r\n\r\nconst fetchWithToken = (endpoint, data, method = 'GET') => {\r\n    \r\n    const url = `${base_url}/${endpoint}`;\r\n    const token = localStorage.getItem('token') || '';\r\n\r\n    if(method === 'GET'){\r\n        return fetch(url, {\r\n            method,\r\n            headers: {\r\n                'x-token': token\r\n            }\r\n        });\r\n    } else {\r\n        return fetch(url, {\r\n            method,\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'x-token': token\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n    }\r\n}\r\n\r\nexport {\r\n    fetchWithoutToken,\r\n    fetchWithToken\r\n}\r\n","import moment from 'moment';\n\nexport const prepareEvents = (events = []) => {\n\treturn events.map((e) => ({\n\t\t...e,\n\t\tend: moment(e.end).toDate(),\n\t\tstart: moment(e.start).toDate(),\n\t}));\n};\n","import Swal from 'sweetalert2';\r\nimport { fetchWithToken } from '../helpers/fetch';\r\nimport { prepareEvents } from '../helpers/prepareEvents';\r\nimport { types } from '../types/types';\r\n\r\nexport const eventStartAddNew = (event) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { uid, name } = getState().auth;\r\n\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchWithToken('events', event, 'POST');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\tif (body.ok) {\r\n\t\t\t\tevent.id = body.event.id;\r\n\t\t\t\tevent.user = {\r\n\t\t\t\t\tuid,\r\n\t\t\t\t\tname,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconsole.log(event);\r\n\r\n\t\t\t\tdispatch(eventAddNew(event));\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventAddNew = (event) => ({\r\n\ttype: types.eventAddNew,\r\n\tpayload: event,\r\n});\r\n\r\nexport const eventSetActive = (event) => ({\r\n\ttype: types.eventSetActive,\r\n\tpayload: event,\r\n});\r\n\r\nexport const eventCleanActiveEvent = () => ({\r\n\ttype: types.eventCleanActiveEvent,\r\n});\r\n\r\nexport const eventStartUpdate = (event) => {\r\n\t return async (dispatch) => {\r\n\t\t  try {\r\n\t\t\t  console.log(event)\r\n\t\t\t  const resp =  await fetchWithToken(`events/${event.id}`, event, \"PUT\");\r\n\t\t\t  const body = await resp.json()\r\n\t\t\t  \r\n\t\t\t  if(body.ok) {\r\n\t\t\t\t  dispatch(eventUpdated(event));\r\n\t\t\t  } else {\r\n\t\t\t\t  Swal.fire(\"Error\", body.msg, 'error')\r\n\t\t\t  }\r\n\t\t\t  \r\n\t\t  } catch (error) {\r\n\t\t\t  console.log(error)\r\n\t\t\t  \r\n\t\t  }\r\n\t }\r\n\t \r\n}\r\n\r\n\r\nconst eventUpdated = (event) => ({\r\n\ttype: types.eventUpdated,\r\n\tpayload: event,\r\n});\r\n\r\nexport const startEventDelete = () => {\r\n\t return async (dispatch, getState) => {\r\n\r\n\t\tconst {id} = getState().calendar.activeEvent;\r\n\t\ttry {\r\n\t\t\tconst resp =  await fetchWithToken(`events/${id}`, {}, \"DELETE\");\r\n\t\t\tconst body = await resp.json()\r\n\t\t\t\r\n\t\t\tif(body.ok) {\r\n\t\t\t\tdispatch(eventDeleted());\r\n\t\t\t} else {\r\n\t\t\t\tSwal.fire(\"Error\", body.msg, 'error')\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t\t\r\n\t\t}\r\n   }\r\n}\r\n\t \r\n\r\n\r\nconst eventDeleted = () => ({\r\n\ttype: types.eventDeleted,\r\n});\r\n\r\nexport const eventStartLoading = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\t//Será una petición GET por defecto así que no es necesario colocar los otros argumentos\r\n\t\t\tconst resp = await fetchWithToken('events');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\tconst events = prepareEvents(body.events);\r\n\t\t\tdispatch(eventLoaded(events))\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventLoaded = (events) => ({\r\n\ttype: types.eventLoaded,\r\n\tpayload: events,\r\n});\r\n\r\n//To clean events from state\r\nexport const eventsCleanUp = ({type: types.eventsCleanUp});\r\n","import { fetchWithoutToken, fetchWithToken } from '../helpers/fetch';\r\nimport { types } from '../types/types';\r\nimport Swal from 'sweetalert2';\r\nimport { eventsCleanUp } from './events';\r\n\r\nexport const startLogin = (email, password) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchWithoutToken('auth', { email, password }, 'POST');\r\n\t\tconst body = await resp.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-day', new Date().getTime());\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const startRegister = (email, password, name) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchWithoutToken(\r\n\t\t\t'auth/new',\r\n\t\t\t{ email, password, name },\r\n\t\t\t'POST'\r\n\t\t);\r\n\t\tconst body = await resp.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-day', new Date().getTime());\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const startChecking = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchWithToken('auth/renew');\r\n\t\tconst body = await resp.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.getItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-day', new Date().getTime());\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tdispatch(checkingFinish());\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst checkingFinish = () => ({ type: types.authCheckingFinish });\r\n\r\nconst login = (user) => ({\r\n\ttype: types.authLogin,\r\n\tpayload: user,\r\n});\r\n\r\nexport const startLogout = () => {\r\n\t return (dispatch) => {\r\n\t\t \r\n\t\tlocalStorage.clear()\r\n\t\tdispatch(logout);\r\n\t\tdispatch(eventsCleanUp);\r\n\t }\r\n}\r\n\r\nconst logout = ({type: types.authLogout});\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport {useDispatch} from 'react-redux'\r\nimport './login.css';\r\nimport { startLogin, startRegister } from '../../actions/auth';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport const LoginScreen = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\tconst [formLoginValues, handleLoginInputChanges] = useForm({\r\n\t\tlEmail: 'angelo@gmail.com',\r\n\t\tlPassword: '123456',\r\n\t});\r\n\r\n\tconst [formRegisterValues, handleRegisterChanges] = useForm({\r\n\t\trName:'',\r\n\t\trEmail: '',\r\n\t\trPassword: '',\r\n\t\tcPassword: ''\r\n\t});\r\n\r\n\tconst { lEmail, lPassword } = formLoginValues;\r\n\tconst { rEmail, rPassword, rName, cPassword } = formRegisterValues;\r\n\r\n\tconst handleLogin = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(startLogin(lEmail, lPassword));\r\n    };\r\n    \r\n\tconst handleRegister = (e) => {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tif(rPassword !== cPassword){\r\n\t\t\treturn Swal.fire('Error', 'Password do not match', 'error')\r\n\t\t}\r\n\r\n\t\tdispatch(startRegister(rEmail, rPassword, rName))\r\n\t\t\r\n    };\r\n    \r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"container login-container\">\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6 login-form-1\">\r\n\t\t\t\t\t<h3>Ingreso</h3>\r\n\t\t\t\t\t<form onSubmit={handleLogin}>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Correo\"\r\n\t\t\t\t\t\t\t\tname=\"lEmail\"\r\n\t\t\t\t\t\t\t\tvalue={lEmail}\r\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChanges}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\r\n\t\t\t\t\t\t\t\tname=\"lPassword\"\r\n\t\t\t\t\t\t\t\tvalue={lPassword}\r\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChanges}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-md-6 login-form-2\">\r\n\t\t\t\t\t<h3>Registro</h3>\r\n\t\t\t\t\t<form onSubmit={handleRegister}>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Nombre\"\r\n\t\t\t\t\t\t\t\tname='rName'\r\n\t\t\t\t\t\t\t\tvalue={rName}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterChanges}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Correo\"\r\n\t\t\t\t\t\t\t\tname='rEmail'\r\n\t\t\t\t\t\t\t\tvalue={rEmail}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterChanges}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\r\n\t\t\t\t\t\t\t\tname='rPassword'\r\n\t\t\t\t\t\t\t\tvalue={rPassword}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterChanges}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Repita la contraseña\"\r\n\t\t\t\t\t\t\t\tname='cPassword'\r\n\t\t\t\t\t\t\t\tvalue={cPassword}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterChanges}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btnSubmit\"\r\n\t\t\t\t\t\t\t\tvalue=\"Crear cuenta\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { startLogout } from '../../actions/auth';\r\n\r\nexport const NavBar = () => {\r\n\r\n\r\n    const {name}= useSelector( state => state.auth );\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleLogout = () => {\r\n         dispatch(startLogout())\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n            <span className=\"navbar navbar-brand\">\r\n                {name}\r\n            </span>\r\n            <button className=\"btn btn-outline-danger\" onClick={handleLogout}>\r\n                <i className=\"fas fa-sign-out-alt\" />\r\n                <span> Exit</span>\r\n\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n","\r\n\r\nexport const messages = {\r\n    allDay: 'Todo el día',\r\n    previous: '<',\r\n    next: '>',\r\n    today: 'Hoy',\r\n    month: 'Mes',\r\n    week: 'Semana',\r\n    day: 'Día',\r\n    agenda: 'Agenda',\r\n    date: 'Fecha',\r\n    time: 'Hora',\r\n    event: 'Evento',\r\n    noEventsInRange: 'No hay eventos en este rango',\r\n    showMore: total => `+ Ver más (${total})`\r\n};","import React from 'react'\r\n\r\nexport const CalendarEvent = ({event}) => {\r\n\r\n    const {title, user} = event;\r\n\r\n    return (\r\n        <div>\r\n            <strong>{title}</strong>\r\n            <span>- {user.name}</span>\r\n        </div>\r\n    )\r\n}\r\n","import {types} from '../types/types';\r\n\r\n\r\nexport const uiOpenModal = () => ({type: types.uiOpenModal});\r\nexport const uiCloseModal = () => ({type: types.uiCloseModal});","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Modal from 'react-modal';\r\nimport moment from 'moment';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport Swal from 'sweetalert2';\r\nimport { uiCloseModal } from '../../actions/ui';\r\nimport {\r\n\teventCleanActiveEvent,\r\n\teventStartAddNew,\r\n\teventStartUpdate,\r\n} from '../../actions/events';\r\n\r\nconst customStyles = {\r\n\tcontent: {\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tright: 'auto',\r\n\t\tbottom: 'auto',\r\n\t\tmarginRight: '-50%',\r\n\t\ttransform: 'translate(-50%, -50%)',\r\n\t},\r\n};\r\n\r\n//Este #root sale del index.html\r\nModal.setAppElement('#root');\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, 'hours');\r\n// const endDate = moment(now).add(1, 'hours');\r\nconst nowPlus1 = now.clone().add('1', 'hours');\r\n\r\nconst initEvent = {\r\n\ttitle: '',\r\n\tnotes: '',\r\n\tstart: now.toDate(),\r\n\tend: nowPlus1.toDate(),\r\n};\r\n\r\nexport const CalendarModal = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { modalOpen } = useSelector((state) => state.ui);\r\n\tconst { activeEvent } = useSelector((state) => state.calendar);\r\n\r\n\tconst [dateStart, setDateStart] = useState(now.toDate());\r\n\tconst [dateEnd, setDateEnd] = useState(nowPlus1.toDate());\r\n\tconst [titleValid, setTitleValid] = useState(true);\r\n\r\n\tconst [formValues, setFormValues] = useState(initEvent);\r\n\r\n\tconst { title, notes, start, end } = formValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (activeEvent) {\r\n\t\t\tsetFormValues(activeEvent);\r\n\t\t} else {\r\n\t\t\tsetFormValues(initEvent);\r\n\t\t}\r\n\t}, [activeEvent, setFormValues]);\r\n\r\n\tconst handleInputChange = ({ target }) => {\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\t[target.name]: target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tdispatch(uiCloseModal());\r\n\t\tdispatch(eventCleanActiveEvent());\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetFormValues(initEvent);\r\n\t\t}, 100);\r\n\t};\r\n\r\n\tconst handleStartDateChange = (e) => {\r\n\t\tsetDateStart(e);\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\tstart: e,\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleEndDateChange = (e) => {\r\n\t\tsetDateEnd(e);\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\tend: e,\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst momentStart = moment(start);\r\n\t\tconst momentEnd = moment(end);\r\n\r\n\t\tif (momentStart.isAfter(momentEnd)) {\r\n\t\t\tSwal.fire(\r\n\t\t\t\t'Error',\r\n\t\t\t\t'La fecha final debe ser mayor de la fecha de inicio.',\r\n\t\t\t\t'error'\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (title.trim() < 2) {\r\n\t\t\tsetTitleValid(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (activeEvent) {\r\n\t\t\tdispatch(eventStartUpdate(formValues));\r\n\t\t} else {\r\n\t\t\tdispatch(\r\n\t\t\t\teventStartAddNew(formValues)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetTitleValid(true);\r\n\t\tcloseModal();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tisOpen={modalOpen}\r\n\t\t\tonRequestClose={closeModal}\r\n\t\t\tcloseTimeoutMS={200}\r\n\t\t\tstyle={customStyles}\r\n\t\t\tclassName=\"modal\"\r\n\t\t\toverlayClassName=\"modal-fondo\"\r\n\t\t>\r\n\t\t\t<h1> {activeEvent ? 'Editar evento' : 'Nuevo Evento'}</h1>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"container\" onSubmit={handleSubmit}>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Fecha y hora inicio</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tonChange={handleStartDateChange}\r\n\t\t\t\t\t\tvalue={dateStart}\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Fecha y hora fin</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tonChange={handleEndDateChange}\r\n\t\t\t\t\t\tvalue={dateEnd}\r\n\t\t\t\t\t\tminDate={dateStart}\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Titulo y notas</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName={`form-control ${!titleValid && 'is-invalid'}`}\r\n\t\t\t\t\t\tplaceholder=\"Título del evento\"\r\n\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\r\n\t\t\t\t\t\tUna descripción corta\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Notas\"\r\n\t\t\t\t\t\trows=\"5\"\r\n\t\t\t\t\t\tname=\"notes\"\r\n\t\t\t\t\t\tvalue={notes}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\r\n\t\t\t\t\t\tInformación adicional\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n\t\t\t\t\t<i className=\"far fa-save\"></i>\r\n\t\t\t\t\t<span> Guardar</span>\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { uiOpenModal } from '../../actions/ui';\r\n\r\nexport const AddNewFab = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClickNew = () => {\r\n         dispatch(uiOpenModal())\r\n    };\r\n    \r\n    return (\r\n        <button className=\"btn btn-primary fab\" onClick={handleClickNew}>\r\n            <i className=\"fas fa-plus\"></i>\r\n        </button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { startEventDelete } from '../../actions/events';\r\n\r\nexport const DeleteEventFab = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleDelete = () => {\r\n         dispatch(startEventDelete())\r\n    }\r\n    \r\n    return (\r\n        <button className=\"btn btn-danger fab-danger\" onClick={handleDelete}>\r\n            <i className=\"fas fa-trash\"></i>\r\n            <span> Borrar evento</span>\r\n        </button>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {Calendar, momentLocalizer} from 'react-big-calendar';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nimport { NavBar } from '../ui/NavBar';\r\nimport { messages } from '../../helpers/calendar-messages-es';\r\nimport { CalendarEvent } from './CalendarEvent';\r\nimport { CalendarModal } from './CalendarModal';\r\n\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport 'moment/locale/es';\r\nimport { uiOpenModal } from '../../actions/ui';\r\nimport { eventCleanActiveEvent, eventSetActive, eventStartLoading } from '../../actions/events';\r\nimport { AddNewFab } from '../ui/AddNewFab';\r\nimport { DeleteEventFab } from '../ui/DeleteEventFab';\r\n\r\nmoment.locale('es');\r\nconst localizer = momentLocalizer(moment);\r\n\r\nexport const CalendarScreen = () => {\r\n\r\n    const {events, activeEvent} = useSelector( state => state.calendar );\r\n    const {uid} = useSelector( state => state.auth  );\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const [lastView, setLastView] = useState(localStorage.getItem('lastView') || 'month');\r\n\r\n    const onDoubleClick = (e) => {\r\n         dispatch(uiOpenModal());  \r\n    };\r\n\r\n    const onSelectEvent = (e) => {\r\n        dispatch(eventSetActive(e));\r\n    };\r\n\r\n    const onViewChange = (e) => {\r\n        setLastView(e);\r\n        localStorage.setItem('lastView', e)\r\n    };\r\n\r\n    const onSelectSlot = (e) => {\r\n        dispatch(eventCleanActiveEvent());\r\n         \r\n    }\r\n\r\n    useEffect(() => {\r\n       dispatch(eventStartLoading())\r\n    }, [dispatch])\r\n    \r\n    \r\n    \r\n    \r\n\r\n    const eventStyleGetter = (event, start, end, isSelected) => {\r\n\r\n        const style = {\r\n            backgroundColor: (uid === event.user._id) ? '#367CF7': \"#e8d827\",\r\n            borderRadius: '0px',\r\n            opacity: 0.8,\r\n            display: 'block',\r\n            color: 'white'\r\n        }\r\n\r\n        return {\r\n            style\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className=\"calendar-screen\">\r\n            <NavBar /> \r\n\r\n            <Calendar\r\n                localizer={localizer}\r\n                events={events}\r\n                startAccessor=\"start\"\r\n                endAccessor=\"end\"\r\n                messages={messages}\r\n                onDoubleClickEvent={onDoubleClick}\r\n                onSelectEvent={onSelectEvent}\r\n                onSelectSlot={onSelectSlot}\r\n                selectable={true}\r\n                onView={onViewChange}\r\n                view={lastView}\r\n                eventPropGetter={eventStyleGetter}\r\n                components={{\r\n                    event: CalendarEvent\r\n                }}\r\n            />\r\n\r\n            <AddNewFab />\r\n\r\n            {\r\n                (activeEvent) && (<DeleteEventFab />)\r\n            }\r\n\r\n            <CalendarModal /> \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const PublicRoutes = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    return (\r\n        <Route {...rest}\r\n            component = {(props) => (\r\n                (isAuthenticated)\r\n                ? (<Redirect to='/' />)\r\n                : (<Component {...props} />)\r\n            )}\r\n        />\r\n            \r\n    )\r\n}\r\n\r\nPublicRoutes.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}","import React from 'react';\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const PrivateRoutes = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n\r\n    return (\r\n        <Route {...rest}\r\n            component= { (props) => (\r\n                    (isAuthenticated)\r\n                        ? (<Component {...props} />)\r\n                        : (<Redirect to='/login' />)\r\n            )}\r\n        />\r\n            \r\n    )\r\n}\r\n\r\nPrivateRoutes.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n\tBrowserRouter as Router,\r\n\tSwitch,\r\n\tRedirect,\r\n} from 'react-router-dom';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LoginScreen } from '../components/auth/LoginScreen';\r\nimport { CalendarScreen } from '../components/calendar/CalendarScreen';\r\nimport { startChecking } from '../actions/auth';\r\nimport { PublicRoutes } from './PublicRoutes';\r\nimport { PrivateRoutes } from './PrivateRoutes';\r\n\r\nexport const AppRouter = () => {\r\n    const dispatch = useDispatch();\r\n    const {checking, uid} = useSelector( state => state.auth );\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(startChecking());\r\n\t}, [dispatch]);\r\n\r\nif(checking){\r\n    return (<h5>Espere...</h5>)\r\n}    \r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<div>\r\n\t\t\t\t<Switch>\r\n                    <PublicRoutes \r\n                        exact path=\"/login\" \r\n                        isAuthenticated={Boolean(uid)} \r\n                        component={LoginScreen} \r\n                    />\r\n                    <PrivateRoutes\r\n                     exact path=\"/\" \r\n                     isAuthenticated={Boolean(uid)} \r\n                     component={CalendarScreen} \r\n                     />\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</Router>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport {Provider} from 'react-redux';\r\n\r\nimport { store } from './store/store';\r\nimport { AppRouter } from './router/AppRouter';\r\n\r\nexport const CalendarApp = () => {\r\n    return (\r\n        <Provider store={store}>\r\n            <AppRouter /> \r\n        </Provider>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CalendarApp } from './CalendarApp';\n\nimport './styles.css';\n\n\nReactDOM.render(\n    <CalendarApp />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}